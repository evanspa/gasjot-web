import React from "react"
import { connect } from 'react-redux'
import { Route, IndexRoute } from "react-router"
import App from "./containers/App.jsx"
import UnauthHomePage from "./containers/UnauthenticatedHomePage.jsx"
import NotFoundPage from "./containers/NotFoundPage.jsx"
import LoginPage from "./containers/LoginPage.jsx"
import SignUpPage from "./containers/SignUpPage.jsx"

class GasJotRoutes extends React.Component {
    render() {
        const { authenticationCheck, requiresAuthentication } = this.props;
        return (
            <Route path="/" component={App}>
                <IndexRoute component={UnauthHomePage} onEnter={authenticationCheck} />
                <Route path="/dashboard" onEnter={requiresAuthentication} />
                <Route path="/welcome" component={UnauthHomePage} />
                <Route path="/signup" component={SignUpPage} />
                <Route path="/login" component={LoginPage} />
                <Route path="*" component={NotFoundPage} />
            </Route>)
    }
}

function authenticationCheck(nextState, replace) {
    return false
}

function requiresAuthentication(nextState, replace) {
    return true
}

const mapStateToProps = (state, ownProps) => {
    return {
        authenticationCheck,
        requiresAuthentication
    }
}

const mapDispatchToProps = (dispatch, ownProps) => {
    return {}
}

export default connect(
    mapStateToProps,
    mapDispatchToProps)(GasJotRoutes)
